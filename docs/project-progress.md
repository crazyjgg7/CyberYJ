# CyberYJ 项目进度（简版）

**项目名称**: 玄学知识库 + MCP 服务
**更新时间**: 2026-02-11
**版本**: v0.6

---

## 总体进度

- 数据层：✅ 完成
- 逻辑层：✅ 完成
- 服务层：✅ 完成
- 测试层：✅ 全量通过

**当前状态**：项目已具备可运行的 MCP 服务（风水解卦 + 罗盘坐向）

## V2 进度（玄空飞星宅盘 + 流年叠加）

- 元运周期表：✅
- 宅盘规则表（24 山向 x 九运）：✅
- 飞星评分表：✅
- 叠加计算器：✅
- `luopan_orientation` 输出“当前吉凶位”：✅
- 宅盘规则覆盖校验器：✅

---

## 已完成（关键项）

- 所有场景数据补齐：命运/事业/感情/财运/健康/学业/家庭/出行/诉讼
- 两个核心工具：`fengshui_divination`、`luopan_orientation`
- JSON 输出格式统一（tool + data）
- 权威来源索引与映射机制（书目级）
- 前端/对话层关键词路由（风水/罗盘）
- 关键词一键调用（keyword_dispatch）
- 端到端 MCP 演示脚本（demo_mcp_dispatch.py）
- 测试通过：`pytest` 全量通过

---

## 当前可用能力

1. **风水解卦**（关键词：`风水：`）
   - 输入：上卦/下卦 + 可选变爻 + 可选问题原文
   - 输出：卦象、五行、节气影响、场景化建议、trace、sources

2. **罗盘坐向**（关键词：`罗盘：`）
   - 输入：坐向 + 建筑类型 + 可选出生日期
   - 输出：宅卦、吉凶位、流年飞星年盘、宅盘基盘、叠加结果、当前吉凶位、布局建议、trace、sources

3. **关键词一键调用**（`keyword_dispatch`）
   - 输入：原始文本（含风水/罗盘前缀）
   - 输出：自动路由并返回最终工具结果

---

## 下一步方向（可选）

- 规则扩展：玄空飞星运盘（未做）
- 规则校对：按权威版本逐条校核 24 山向规则口径
- 权威映射深化：字段级替换完善、版本管理

---

**备注**：已从复杂路线回归“两个入口 + 全场景”的主线目标。
